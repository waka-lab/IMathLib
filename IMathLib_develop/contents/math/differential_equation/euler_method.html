<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<title>IMathLibリファレンス-&lt;IMathLib/differential_equation/euler_method.hpp&gt;-</title>
<meta name="keywords" content="リファレンス" />

<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script type="text/javascript" src="../../path.js"></script>
<script>draw_path();</script>

</head>

<body onload="cpp_code_replace(); create_path();">

<script>draw_frame();</script>

<div id="main" name="main">

<header>
<p>Iroha Math Library for C++ リファレンス  [ホーム]</p>
</header>

<h4>class</h4>
<h1>iml::ode::euler_method</h1>

<h2>概要</h2>
<p>
<code>iml::ode::euler_method</code>はオイラー法による微分方程式の数値解析をする。<br>
なお、テンプレート引数は、第一引数が独立変数の型、第二引数以降は従属変数で連立常微分方程式の戻り値兼引数型である。例えば<code>&lt;double, iml::vector3&lt;double&gt;, iml::vector3&lt;float&gt;&gt;</code>とした場合、構成される連立微分方程式は<code>iml::vector3&lt;double&gt;(double, iml::vector3&lt;double&gt;, iml::vector3&lt;float&gt;)</code>と<code>iml::vector3&lt;float&gt;(double, iml::vector3&lt;double&gt;, iml::vector3&lt;float&gt;)</code>の2つとなる。
</p>
<pre class="cpp_code"><code>
namespace iml {
	template &lt;class... Types&gt;
	class euler_method;
}
</code></pre>

<h2>メンバ</h2>
<h3>構築</h3>
<table>
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>(constructor)</code></td>
<td>コンストラクタ</td>
<td></td>
</tr>
<tr>
<td><code>(destructor)</code></td>
<td>デストラクタ</td>
<td></td>
</tr>
</tbody>
</table>

<h3>メンバ関数</h3>
<table>
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>set_ini_value</code></td>
<td>初期値の設定</td>
<td></td>
</tr>
<tr>
<td><code>set_function</code></td>
<td>微分方程式のの設定</td>
<td></td>
</tr>
<tr>
<td><code>update</code></td>
<td>微分方程式の更新</td>
<td></td>
</tr>
<tr>
<td><code>reset</code></td>
<td>現在の値を初期値にする</td>
<td></td>
</tr>
<tr>
<td><code>get_ini_d_value</code></td>
<td>独立変数の初期値の取得</td>
<td></td>
</tr>
<tr>
<td><code>get_ini_l_value</code></td>
<td>従属変数の初期値の取得</td>
<td></td>
</tr>
<tr>
<td><code>get_d_value</code></td>
<td>現在の独立変数の値の取得</td>
<td></td>
</tr>
<tr>
<td><code>get_l_value</code></td>
<td>現在の従属変数の値の取得</td>
<td></td>
</tr>
<tr>
<td><code>size</code></td>
<td>変数の数の取得</td>
<td></td>
</tr>
</tbody>
</table>


<h2>実装</h2>
<p>
このクラスで実装されているオイラー法は陽的オイラー法のことである。微分方程式を\(\frac{dy}{dx}=f(x,y)\)とすれば、以下のような差分方程式で近似することができる。<br>
\[
\begin{align*}
y_{n+1}=y_{n}+f(x_{n},y_{n})\Delta x
\end{align*}
\]
</p>

<h2>サンプルコード</h2>
<h3>入力</h3>
<pre class="cpp_code"><code>
#include &lt;IMathLib/IMathLib.hpp&gt;

int main() {
	//ローレンツ方程式の定義
	iml::ode::euler_method&lt;double, double, double, double&gt; ode(
		[](double t, double x, double y, double z) {return -10 * x + 10 * y; }
	, [](double t, double x, double y, double z) {return -x*z + 28 * x - y; }
	, [](double t, double x, double y, double z) {return x*y - 8 / 3. * z; }
	);
	ode.set_ini_value(0, 1, 1, 1);
	ode.reset();

	for (size_t i = 0; i &lt; 100; ++i) {
		std::cout &lt;&lt; ode.get_d_value() &lt;&lt; &apos;,&apos; &lt;&lt; ode.get_l_value&lt;0&gt;()
			&lt;&lt; &apos;,&apos; &lt;&lt; ode.get_l_value&lt;1&gt;() &lt;&lt; &apos;,&apos; &lt;&lt; ode.get_l_value&lt;2&gt;() &lt;&lt; std::endl;
		//初期値鋭敏性を持つため十分に小さい値で更新する
		ode.update(1 / 60.);
	}
	
	return 0;
}
</code></pre>
<h3>出力</h3>
<pre><code><span>
0,1,1,1
0.0166667,1,1.43333,0.972222
0.0333333,1.07222,1.85991,0.952901
0.05,1.2035,2.31225,0.943787
0.0666667,1.38829,2.81642,0.948221
0.0833333,1.62631,3.39541,0.971245
0.1,1.92116,4.07144,1.02011
0.116667,2.27954,4.86746,1.10514
0.133333,2.71086,5.80814,1.24095
0.15,3.22707,6.92034,1.44821
0.166667,3.84262,8.23307,1.75605
0.183333,4.57436,9.77661,2.20528
0.2,5.4414,11.5802,2.85263
0.216667,6.46454,13.6679,3.77606
0.233333,7.66509,16.05,5.08084
0.25,9.06258,18.7105,6.90544
0.266667,10.6706,21.5848,9.42462
0.283333,12.4896,24.5286,12.8444
0.3,14.4961,27.2745,17.3794
0.316667,16.6258,29.3859,23.1966
0.333333,18.7525,30.2271,30.3084
0.35,20.6649,29.0019,38.4086
0.366667,22.0544,24.9336,46.6902
0.383333,22.5343,17.648,53.7801
0.4,21.7199,7.67164,58.018
0.416667,19.3785,-3.32268,58.2165
0.433333,15.595,-13.0265,54.556
0.45,10.8248,-19.7117,48.7454
0.466667,5.73534,-23.1259,43.0227
0.483333,0.925127,-24.1765,38.9
0.5,-3.25848,-23.9416,36.7984
0.516667,-6.70567,-23.0648,36.4631
0.533333,-9.43219,-21.7345,37.4203
0.55,-11.4826,-19.8914,39.1739
0.566667,-12.8841,-17.4215,41.2396
0.583333,-13.6403,-14.2881,43.1477
0.6,-13.7483,-10.6063,44.4782
0.616667,-13.2246,-6.65377,44.9317
0.633333,-12.1295,-2.81095,44.4013
0.65,-10.5764,0.55155,42.9962
0.666667,-8.72172,3.18578,40.988
0.683333,-6.73714,5.02065,38.7032
0.7,-4.77751,6.13879,36.4194
0.716667,-2.95812,6.70687,34.3119
0.733333,-1.34729,6.90628,32.4563
0.75,0.0283033,6.89124,30.8587
0.766667,1.17213,6.77504,29.4904
0.783333,2.10594,6.633,28.3121
0.8,2.86045,6.5115,27.2866
0.816667,3.46896,6.43698,26.3843
0.833333,3.96363,6.42311,25.5838
0.85,4.37355,6.47568,24.8711
0.866667,4.7239,6.59582,24.2377
0.883333,5.03589,6.7821,23.6798
0.9,5.32692,7.03167,23.1966
0.916667,5.61105,7.34093,22.7899
0.933333,5.89936,7.70581,22.4635
0.95,6.20044,8.12174,22.2228
0.966667,6.52066,8.5834,22.0744
0.983333,6.86445,9.08432,22.0262
1,7.23442,9.61636,22.0866
1.01667,7.63141,10.1691,22.2644
1.03333,8.05436,10.7291,22.5683
1.05,8.50015,11.2795,23.0055
1.06667,8.96337,11.799,23.581
1.08333,9.43598,12.2625,24.2956
1.1,9.90707,12.6407,25.1443
1.11667,10.3627,12.9016,26.114
1.13333,10.7858,13.0123,27.1816
1.15,11.1569,12.9425,28.3127
1.16667,11.4545,12.6687,29.461
1.18333,11.6569,12.1786,30.5702
1.2,11.7438,11.4763,31.5776
1.21667,11.6992,10.5848,32.4204
1.23333,11.5135,9.54647,33.0434
1.25,11.1857,8.41958,33.4067
1.26667,10.7247,7.2713,33.4916
1.28333,10.1491,6.16853,33.3028
1.3,9.48567,5.16875,32.8661
1.31667,8.76618,4.3133,32.2225
1.33333,8.02403,3.6245,31.4206
1.35,7.29078,3.10664,30.5088
1.36667,6.59342,2.75001,29.5304
1.38333,5.95285,2.536,28.5201
1.4,5.38338,2.44213,27.5042
1.41667,4.89317,2.44592,26.5009
1.43333,4.4853,2.52741,25.5225
1.45,4.15898,2.67049,24.5771
1.46667,3.9109,2.86325,23.6699
1.48333,3.73629,3.09777,22.8045
1.5,3.62987,3.36967,21.9839
1.51667,3.5865,3.67747,21.2107
1.53333,3.60166,4.02201,20.4878
1.55,3.67172,4.40591,19.8187
1.56667,3.79409,4.83314,19.2075
1.58333,3.96726,5.30858,18.6594
1.6,4.19081,5.83771,18.1811
1.61667,4.4653,6.42623,17.7808
1.63333,4.79212,7.07965,17.4688
1.65,5.17337,7.80277,17.2579

</span></code></pre>

<br><br><br>

</div>

</body>


</html>
